from appJar import gui

app5=gui("add student", "450x250")
app5.setBg("Gainsboro")
app5.setFont(15)

app5.addLabel("title", "Add student")
app5.setLabelBg("title", "Lavender")


app5.addLabelEntry("Full name")
app5.addLabelEntry("Username")
app5.addLabelEntry("Password")

def press(button):
    no_copy = True
    if button == "Cancel":

        app5.stop()
        import manager_add_user
    else:
        fname = app5.getEntry("Full name")
        usr = app5.getEntry("Username")
        pwd = app5.getEntry("Password")

        file_teachers = open("student.txt", "r+")
        file_names = open("fullnames.txt", "a")
        check_lines = file_teachers.readlines()

        for i in check_lines:
            if usr == i[0:-1]:
                no_copy = False

        if no_copy == False:
            app5.soundWarning()
            app5.warningBox("Error", usr + " already exist", parent=None)

        else:
            file_teachers.write(usr + "\n")
            file_teachers.write(pwd + "\n")
            file_names.write(fname + "\n")
            file_teachers.close()
            app5.infoBox("login", usr + " has added to the system", parent=None)
            file_names.close()

app5.addButtons(["Add", "Cancel"], press)

app5.go()
